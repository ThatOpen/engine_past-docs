"use strict";(self.webpackChunkengine_docs=self.webpackChunkengine_docs||[]).push([[3254],{9411:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var t=r(4848),o=r(8453);const i={},s=void 0,a={id:"Tutorials/Components/Core/Grids",title:"Grids",description:'window.open("https://thatopen.github.io/engine_components/examples/Grids")} >Go Full Screen',source:"@site/docs/Tutorials/Components/Core/Grids.mdx",sourceDirName:"Tutorials/Components/Core",slug:"/Tutorials/Components/Core/Grids",permalink:"/engine_past-docs/3.0.x/Tutorials/Components/Core/Grids",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"FragmentsManager",permalink:"/engine_past-docs/3.0.x/Tutorials/Components/Core/FragmentsManager"},next:{title:"Hider",permalink:"/engine_past-docs/3.0.x/Tutorials/Components/Core/Hider"}},l={},d=[{value:"\ud83d\udd78\ufe0f Adding a fancy grid to our scene",id:"\ufe0f-adding-a-fancy-grid-to-our-scene",level:3},{value:"\ud83c\udf0e Setting up a simple scene",id:"-setting-up-a-simple-scene",level:3},{value:"\ud83d\udd77\ufe0f Adding the grid to the world",id:"\ufe0f-adding-the-grid-to-the-world",level:3},{value:"\ud83e\udde9 Adding some UI",id:"-adding-some-ui",level:3},{value:"\u23f1\ufe0f Measuring the performance (optional)",id:"\ufe0f-measuring-the-performance-optional",level:3},{value:"\ud83c\udf89 Wrap up",id:"-wrap-up",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("iframe",{src:"https://thatopen.github.io/engine_components/examples/Grids"}),(0,t.jsx)("button",{class:"full-screen-btn",onClick:()=>window.open("https://thatopen.github.io/engine_components/examples/Grids"),children:"Go Full Screen"})]}),"\n",(0,t.jsx)(n.admonition,{title:"Source",type:"info",children:(0,t.jsxs)(n.p,{children:["Copying and pasting? We've got you covered! You can find the full source code of this tutorial ",(0,t.jsx)(n.a,{href:"https://github.com/ThatOpen/engine_components/blob/e444737d33d6823121001fd63a06bdcf80cf5ddd/packages/core/src/core/Grids/example.ts",children:"here"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"\ufe0f-adding-a-fancy-grid-to-our-scene",children:"\ud83d\udd78\ufe0f Adding a fancy grid to our scene"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"In this tutorial you'll learn how to add a fancy grid to your scene. It's super easy and will make your app look much more professional!"}),"\n",(0,t.jsx)(n.admonition,{title:"Why a grid?",type:"tip",children:(0,t.jsx)(n.p,{children:"Grids are very common in 3D apps, and it's a great way to have a reference point for your users to navigate around, even when there are no visible objects around."})}),"\n",(0,t.jsx)(n.p,{children:"In this tutorial, we will import:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Three.js"})," to get some 3D entities for our app."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"@thatopen/components"})," to set up the barebone of our app."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import * as THREE from "three";\r\nimport Stats from "stats.js";\r\nimport * as OBC from "@thatopen/components";\r\nimport * as BUI from "@thatopen/ui";\n'})}),"\n",(0,t.jsx)(n.h3,{id:"-setting-up-a-simple-scene",children:"\ud83c\udf0e Setting up a simple scene"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"We will start by creating a simple scene with a camera and a renderer. If you don't know how to set up a scene, you can check the Worlds tutorial."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const container = document.getElementById("container")!;\r\n\r\nconst components = new OBC.Components();\r\n\r\nconst worlds = components.get(OBC.Worlds);\r\nconst world = worlds.create<\r\n  OBC.SimpleScene,\r\n  OBC.SimpleCamera,\r\n  OBC.SimpleRenderer\r\n>();\r\n\r\nworld.scene = new OBC.SimpleScene(components);\r\nworld.renderer = new OBC.SimpleRenderer(components, container);\r\nworld.camera = new OBC.SimpleCamera(components);\r\n\r\ncomponents.init();\r\n\r\nconst cube = new THREE.Mesh(\r\n  new THREE.BoxGeometry(),\r\n  new THREE.MeshBasicMaterial({ color: "red" }),\r\n);\r\nworld.scene.three.add(cube);\n'})}),"\n",(0,t.jsx)(n.p,{children:"We'll make the background of the scene transparent so that it looks good in our docs page, but you don't have to do that in your app!"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"world.scene.three.background = null;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\ufe0f-adding-the-grid-to-the-world",children:"\ud83d\udd77\ufe0f Adding the grid to the world"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["To add the grid to the world, we will use the ",(0,t.jsx)(n.code,{children:"Grids"})," component. Instead of instantiating it, we will get it directly from the ",(0,t.jsx)(n.code,{children:"components"})," object. Remember that all components are meant to be singletons. Then, we will call the ",(0,t.jsx)(n.code,{children:"create"})," method to add a grid to the scene."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const grids = components.get(OBC.Grids);\r\nconst grid = grids.create(world);\r\nconsole.log(grid);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"-adding-some-ui",children:"\ud83e\udde9 Adding some UI"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["We will use the ",(0,t.jsx)(n.code,{children:"@thatopen/ui"})," library to add some simple and cool UI elements to our app. First, we need to call the ",(0,t.jsx)(n.code,{children:"init"})," method of the ",(0,t.jsx)(n.code,{children:"BUI.Manager"})," class to initialize the library:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"BUI.Manager.init();\n"})}),"\n",(0,t.jsx)(n.p,{children:"Now we will create some UI elements and bind them to some of the controls of the clipper, like activation, visibility, size, color, etc. For more information about the UI library, you can check the specific documentation for it!"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const panel = BUI.Component.create<BUI.PanelSection>(() => {\r\n  return BUI.html`\r\n    <bim-panel label="Grids Tutorial" class="options-menu">\r\n\r\n      <bim-panel-section collapsed label="Controls"">\r\n          \r\n        <bim-checkbox label="Grid visible" checked \r\n          @change="${({ target }: { target: BUI.Checkbox }) => {\r\n            grid.config.visible = target.value;\r\n          }}">\r\n        </bim-checkbox>\r\n      \r\n        <bim-color-input \r\n          label="Grid Color" color="#bbbbbb" \r\n          @input="${({ target }: { target: BUI.ColorInput }) => {\r\n            grid.config.color = new THREE.Color(target.color);\r\n          }}">\r\n        </bim-color-input>\r\n        \r\n        <bim-number-input \r\n          slider step="0.1" label="Grid primary size" value="1" min="0" max="10"\r\n          @change="${({ target }: { target: BUI.NumberInput }) => {\r\n            grid.config.primarySize = target.value;\r\n          }}">\r\n        </bim-number-input>\r\n        \r\n        <bim-number-input \r\n          slider step="0.1" label="Grid secondary size" value="10" min="0" max="20"\r\n          @change="${({ target }: { target: BUI.NumberInput }) => {\r\n            grid.config.secondarySize = target.value;\r\n          }}">\r\n        </bim-number-input>\r\n        \r\n      </bim-panel-section>\r\n    </bim-panel>\r\n    `;\r\n});\r\n\r\ndocument.body.append(panel);\n'})}),"\n",(0,t.jsx)(n.p,{children:"And we will make some logic that adds a button to the screen when the user is visiting our app from their phone, allowing to show or hide the menu. Otherwise, the menu would make the app unusable."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const button = BUI.Component.create<BUI.PanelSection>(() => {\r\n  return BUI.html`\r\n      <bim-button class="phone-menu-toggler" icon="solar:settings-bold"\r\n        @click="${() => {\r\n          if (panel.classList.contains("options-menu-visible")) {\r\n            panel.classList.remove("options-menu-visible");\r\n          } else {\r\n            panel.classList.add("options-menu-visible");\r\n          }\r\n        }}">\r\n      </bim-button>\r\n    `;\r\n});\r\n\r\ndocument.body.append(button);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\ufe0f-measuring-the-performance-optional",children:"\u23f1\ufe0f Measuring the performance (optional)"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["We'll use the ",(0,t.jsx)(n.a,{href:"https://github.com/mrdoob/stats.js",children:"Stats.js"})," to measure the performance of our app. We will add it to the top left corner of the viewport. This way, we'll make sure that the memory consumption and the FPS of our app are under control."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const stats = new Stats();\r\nstats.showPanel(2);\r\ndocument.body.append(stats.dom);\r\nstats.dom.style.left = "0px";\r\nstats.dom.style.zIndex = "unset";\r\nworld.renderer.onBeforeUpdate.add(() => stats.begin());\r\nworld.renderer.onAfterUpdate.add(() => stats.end());\n'})}),"\n",(0,t.jsx)(n.h3,{id:"-wrap-up",children:"\ud83c\udf89 Wrap up"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"Congratulations! You have created your first infinite grid in your 3D app. As you can see, it's super easy and it looks great!"})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var t=r(6540);const o={},i=t.createContext(o);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);